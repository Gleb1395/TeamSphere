{% extends 'base.html' %}
{% block content %}
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12">
        <div class="card">
          <div class="card-body">
            <div class="d-flex flex-wrap align-items-center justify-content-between breadcrumb-content">
              <h5>Your Projects</h5>
              <div class="d-flex flex-wrap align-items-center justify-content-between">
                <div class="dropdown status-dropdown mr-3">
                  <div class="dropdown-toggle" id="dropdownMenuButton03" data-toggle="dropdown">
                    <div class="btn bg-body"><span class="h6">Status :</span> Chose<i
                        class="ri-arrow-down-s-line ml-2 mr-0"></i></div>
                  </div>
                  <div class="dropdown-menu dropdown-menu-right"
                       aria-labelledby="dropdownMenuButton03">
                    <a class="dropdown-item font-weight-bold"
                       href="{% url 'project:index' %}">All status</a>
                    {% for status in list_status %}
                      <a class="dropdown-item"
                         href="{% url 'project:index' %}?status={{ status.value }}">{{ status.label }}</a>
                    {% endfor %}
                  </div>
                </div>
                <div class=" list-grid-toggle d-flex align-items-center mr-3">
                  <div data-toggle-extra="tab" data-target-extra="#grid" class="active">
                    <div class="grid-icon mr-3">
                      <svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"
                           viewBox="0 0 24 24" fill="none"
                           stroke="currentColor" stroke-width="2" stroke-linecap="round"
                           stroke-linejoin="round">
                        <rect x="3" y="3" width="7" height="7"></rect>
                        <rect x="14" y="3" width="7" height="7"></rect>
                        <rect x="14" y="14" width="7" height="7"></rect>
                        <rect x="3" y="14" width="7" height="7"></rect>
                      </svg>
                    </div>
                  </div>
                </div>
                <div class="pl-3 border-left btn-new">
                  <button type="button" class="btn btn-primary mt-2">
                    <a href="{% url 'project:project-create' %}" class="text-white">Project Create</a>
                  </button>
                </div>
                {#                <div class="pl-3 border-left btn-new">#}
                {#                  <a href="/new/" class="btn btn-primary" data-target="#new-project-modal"#}
                {#                     data-toggle="modal">New Project</a>#}
                {#                </div>#}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="grid" class="item-content animate__animated animate__fadeIn active" data-toggle-extra="tab-content">
      <div class="row">
        {% for project in projects %}
          <div class="col-lg-4 col-md-6">
            <div class="card card-block card-stretch card-height">
              <div class="card-body">
                <div class="d-flex align-items-center justify-content-between mb-4">
                  {% if project.status == 0 %}
                    <div id="circle-progress-{{ project.id }}"
                         class="circle-progress-01 circle-progress circle-progress-primary"
                         data-min-value="0" data-max-value="100" data-value="50"
                         data-type="percent"></div>

                  {% elif project.status == 1 %}
                    <div id="circle-progress-{{ project.id }}"
                         class="circle-progress-01 circle-progress circle-progress-secondary"
                         data-min-value="0" data-max-value="100" data-value="50"
                         data-type="percent"></div>

                  {% elif project.status == 2 %}
                    <div id="circle-progress-{{ project.id }}"
                         class="circle-progress-01 circle-progress circle-progress-success"
                         data-min-value="0" data-max-value="100" data-value="50"
                         data-type="percent"></div>

                  {% elif project.status == 3 %}
                    <div id="circle-progress-{{ project.id }}"
                         class="circle-progress-01 circle-progress circle-progress-danger"
                         data-min-value="0" data-max-value="100" data-value="50"
                         data-type="percent"></div>

                  {% endif %}

                </div>
                <h5 class="mb-1">
                  <a href="{% url 'project:project-detail' pk=project.id %}">
                    {{ project.name }}
                  </a>
                </h5>
                <p class="mb-3">
                  <a href="{% url 'project:project-detail' pk=project.id %}">
                    {{ project.description }}
                  </a>
                </p>
                <div class="d-flex align-items-center justify-content-between pt-3 border-top">
                  {% if project.status == 0 %}
                    <a class="btn btn-white text-primary link-shadow">{{ project.get_status_display }}</a>
                  {% elif project.status == 1 %}
                    <a class="btn btn-white text-secondary link-shadow">{{ project.get_status_display }}</a>
                  {% elif project.status == 2 %}
                    <a class="btn btn-white text-success link-shadow">{{ project.get_status_display }}</a>
                  {% elif project.status == 3 %}
                    <a class="btn btn-white text-danger link-shadow">{{ project.get_status_display }}</a>
                  {% endif %}
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
    <!-- Page end  -->
  </div>
{% endblock %}
